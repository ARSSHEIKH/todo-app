<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TODO APP</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="./bootstrap/bootstrap.min.css">
    <!--Bootstrap Scripts-->
    <script src="./bootstrap/jquery-3.5.1.slim.min.js"></script>
    <script src="./bootstrap/bootstrap.bundle.min.js"></script>
</head>

<body>
    <div class="dvRegisteration">
        <a class="btnLogin btn-sm btn-success" data-toggle="modal" data-target="#registerBackdrop">
            Register for Future Use
        </a>
        <button class="btn btn-secondary dropdown-toggle btnLogout" type="button" id="dropdownMenuButton"
            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Dropdown button
        </button>
        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            <a class="dropdown-item" href="http://mytodo-app.surge.sh/">Logout</a>
        </div>

    </div>
    <div class="dvSaveDB">
        <a href="../../todo-app-js-v1.0.0/index.html" class="appVersions">Previous Version</a>
        <span class="btnSave" style="margin-left: 10px;"> |
            <a class="btn-sm btn-success" style="margin-right: 10px;" data-toggle="modal" data-target="#saveDbBackdrop">
                Save to Database
            </a>
        </span>
    </div>
    <br />
    <form>
        <div class="dvInp" style="padding: 20px; margin: 0 auto; display: flex; flex-direction:column;
        justify-content:center; max-width: 400px;
        ">
            <h2>Todo List</h2>
            <input name="todo-items" type="text" class="form-control" id="inpText" autocomplete="off" required><br>

            <div style=" margin:5px; display: flex; flex-direction:row;
            justify-content:space-between; max-width: 600px;
            ">
                <input type="button" id="btnAddList" class="btn btn-primary" value="Add">
                <input type="button" class="btn btn-danger" onclick="deleteAll()" value="Delete All">
            </div>
        </div>

        <table class="table table-striped">
            <tr id="listItems">
            </tr>
        </table>

    </form>

    <!-- Modal for Registration-->
    <div class="modal fade" id="registerBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1"
        aria-labelledby="registerBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="registerBackdropLabel">Register to save in database for future use</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <form class="modal-body" onsubmit="Registration(); return false">
                    <label>Enter Username: </label>
                    <input type="text" autocomplete="off" id="nameReg" required />
                    <br />
                    <label>Enter Password: </label>
                    <input type="Password" id="passReg" required />
                    <br />
                    <button type="submit" onclick="" class="btn btn-primary">
                        Register
                    </button>
                </form>
                <label class="lblLoading"></label>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-secondary" data-dismiss="modal" data-toggle="modal"
                        data-target="#loginBackdrop">Already Registered?</button>
                </div>
            </div>
        </div>
    </div>


    <!-- Modal for Login -->
    <div class="modal fade" id="loginBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1"
        aria-labelledby="loginBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginBackdropLabel">Login</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <form class="modal-body" onsubmit="Login(); return false">
                    <label>Enter Username: </label>
                    <input type="text" autocomplete="off" id="nameLogin" required />
                    <br />
                    <label>Enter Password: </label>
                    <input type="Password" id="passLogin" required />
                    <br />
                    <button type="submit" onclick="" class="btn btn-primary">
                        Login
                    </button>
                </form>
                <label class="lblLoginLoading"></label>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-secondary" data-dismiss="modal" data-toggle="modal"
                        data-target="#registerBackdrop">
                        Not Register Yet?</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Save DB -->
    <div class="modal fade" id="saveDbBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1"
        aria-labelledby="saveDbBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="saveDbBackdropLabel">Confirmation</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <form class="modal-body">
                    <button type="button" data-dismiss="modal" class="btn btn-primary" onclick="saveToDB()">
                        Confirm to Save?
                    </button>
                    <button data-dismiss="modal" class="btn btn-danger">
                        No
                    </button>
                </form>
            </div>
        </div>
    </div>


    <!--App Scripts-->
    <script src="./src/index.js"></script>
    <script src="./src/saveDB.js"></script>
    <script src="./src/login.js"></script>
    <script src="./src/registeration.js"></script>

    <!--DB Scripts-->
    <script src="./firebase/firebase-app.js"></script>
    <script src="./firebase/firebase-database.js"></script>
    <script src="./firebaseConfig.js"></script>
</body>

</html>